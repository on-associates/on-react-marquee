{"version":3,"file":"index.js","sources":["../src/Marquee.tsx"],"sourcesContent":["import * as React from 'react'\nimport styles from './styles.module.css'\n\ninterface Props {\n  children: React.ReactNode;\n  speed?: number;\n  pauseOnHover?: boolean;\n  direction?: 'left' | 'right';\n  loop?: number | string;\n  play?: boolean;\n  fillGaps?: boolean;\n  onAnimationCycleComplete?: () => void;\n  className?: string;\n}\n\nconst Marquee = ({\n  children,\n  speed = 80,\n  pauseOnHover = false,\n  direction = 'left',\n  loop = 'infinite',\n  play = true,\n  fillGaps = true,\n  onAnimationCycleComplete,\n  className = '',\n}: Props) => {\n  const containerRef = React.useRef<any>(null);\n  const marqueeRef = React.useRef<any>(null);\n\n  React.useEffect(() => {\n    const containerEl = containerRef.current;\n    const marqueeEl = marqueeRef.current;\n\n    const containerWidth = containerEl.clientWidth;\n    const marqueeWidth = marqueeEl.clientWidth;\n\n    const setFillGaps = () => {\n      const loopCount = Math.ceil(containerEl.clientWidth / marqueeEl.clientWidth);\n      for (let index = 0; index < loopCount; index++) {\n        containerEl.appendChild(containerEl.children[0].cloneNode(true))\n      }\n    }\n\n    const duration = marqueeWidth < containerWidth ? containerWidth / speed : marqueeWidth / speed;\n\n    containerEl.style.setProperty('--marquee-duration', `${duration}s`);\n    containerEl.style.setProperty('--marquee-pause-on-hover', pauseOnHover ? 'paused' : 'running');\n    containerEl.style.setProperty('--marquee-direction', direction === 'left' ? 'normal' : 'reverse');\n    containerEl.style.setProperty('--marquee-loop', loop);\n    containerEl.style.setProperty('--marquee-play', play ? 'running' : 'paused');\n\n    if (fillGaps) {\n      setFillGaps();\n    }\n  }, []);\n\n  const classNames = [styles.marquee, className].join(' ');\n\n  return (\n    <div className={classNames} ref={containerRef}>\n      <div\n        className={`${styles.marqueeContent} ${!fillGaps && styles.fullWidth}`}\n        ref={marqueeRef}\n        onAnimationIteration={onAnimationCycleComplete}\n      >\n        {children}\n      </div>\n      {!fillGaps && (\n        <div className={`${styles.marqueeContent} ${styles.fullWidth}`}>\n          {children}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Marquee;\n"],"names":["Marquee","children","speed","pauseOnHover","direction","loop","play","fillGaps","onAnimationCycleComplete","className","containerRef","React","marqueeRef","containerEl","current","marqueeEl","containerWidth","clientWidth","marqueeWidth","setFillGaps","loopCount","Math","ceil","index","appendChild","cloneNode","duration","style","setProperty","classNames","styles","marquee","join","ref","marqueeContent","fullWidth","onAnimationIteration"],"mappings":";;;;AAeA,IAAMA,OAAO,GAAG,SAAVA,OAAU;MACdC,gBAAAA;wBACAC;MAAAA,gCAAQ;+BACRC;MAAAA,8CAAe;4BACfC;MAAAA,wCAAY;uBACZC;MAAAA,8BAAO;uBACPC;MAAAA,8BAAO;2BACPC;MAAAA,sCAAW;MACXC,gCAAAA;4BACAC;MAAAA,wCAAY;EAEZ,IAAMC,YAAY,GAAGC,YAAA,CAAkB,IAAlB,CAArB;EACA,IAAMC,UAAU,GAAGD,YAAA,CAAkB,IAAlB,CAAnB;EAEAA,eAAA,CAAgB;IACd,IAAME,WAAW,GAAGH,YAAY,CAACI,OAAjC;IACA,IAAMC,SAAS,GAAGH,UAAU,CAACE,OAA7B;IAEA,IAAME,cAAc,GAAGH,WAAW,CAACI,WAAnC;IACA,IAAMC,YAAY,GAAGH,SAAS,CAACE,WAA/B;;IAEA,IAAME,WAAW,GAAG,SAAdA,WAAc;MAClB,IAAMC,SAAS,GAAGC,IAAI,CAACC,IAAL,CAAUT,WAAW,CAACI,WAAZ,GAA0BF,SAAS,CAACE,WAA9C,CAAlB;;MACA,KAAK,IAAIM,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGH,SAA5B,EAAuCG,KAAK,EAA5C,EAAgD;QAC9CV,WAAW,CAACW,WAAZ,CAAwBX,WAAW,CAACZ,QAAZ,CAAqB,CAArB,EAAwBwB,SAAxB,CAAkC,IAAlC,CAAxB;;KAHJ;;IAOA,IAAMC,QAAQ,GAAGR,YAAY,GAAGF,cAAf,GAAgCA,cAAc,GAAGd,KAAjD,GAAyDgB,YAAY,GAAGhB,KAAzF;IAEAW,WAAW,CAACc,KAAZ,CAAkBC,WAAlB,CAA8B,oBAA9B,EAAuDF,QAAvD;IACAb,WAAW,CAACc,KAAZ,CAAkBC,WAAlB,CAA8B,0BAA9B,EAA0DzB,YAAY,GAAG,QAAH,GAAc,SAApF;IACAU,WAAW,CAACc,KAAZ,CAAkBC,WAAlB,CAA8B,qBAA9B,EAAqDxB,SAAS,KAAK,MAAd,GAAuB,QAAvB,GAAkC,SAAvF;IACAS,WAAW,CAACc,KAAZ,CAAkBC,WAAlB,CAA8B,gBAA9B,EAAgDvB,IAAhD;IACAQ,WAAW,CAACc,KAAZ,CAAkBC,WAAlB,CAA8B,gBAA9B,EAAgDtB,IAAI,GAAG,SAAH,GAAe,QAAnE;;IAEA,IAAIC,QAAJ,EAAc;MACZY,WAAW;;GAvBf,EAyBG,EAzBH;EA2BA,IAAMU,UAAU,GAAG,CAACC,MAAM,CAACC,OAAR,EAAiBtB,SAAjB,EAA4BuB,IAA5B,CAAiC,GAAjC,CAAnB;EAEA,OACErB,mBAAA,MAAA;IAAKF,SAAS,EAAEoB;IAAYI,GAAG,EAAEvB;GAAjC,EACEC,mBAAA,MAAA;IACEF,SAAS,EAAKqB,MAAM,CAACI,cAAZ,UAA8B,CAAC3B,QAAD,IAAauB,MAAM,CAACK,SAAlD;IACTF,GAAG,EAAErB;IACLwB,oBAAoB,EAAE5B;GAHxB,EAKGP,QALH,CADF,EAQG,CAACM,QAAD,IACCI,mBAAA,MAAA;IAAKF,SAAS,EAAKqB,MAAM,CAACI,cAAZ,SAA8BJ,MAAM,CAACK;GAAnD,EACGlC,QADH,CATJ,CADF;AAgBD,CA3DD;;;;"}